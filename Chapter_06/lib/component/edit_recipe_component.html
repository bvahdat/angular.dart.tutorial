<div id="edit-recipe">
  <h3>Edit Recipe</h3>
  <div ng-if="cmp.recipe != null">
    <a class="extra-space" href="#/recipe/{{cmp.recipe.id}}/view">
      <input type="button" value="Save this Recipe" ng-click="cmp.saveRecipe()">
    </a>

    <div><strong>Name: </strong>
      <input type="text" ng-model="cmp.recipe.name"/>
    </div>
    <div><strong>Category: </strong>
    <select required ng-model="cmp.recipe.category">
      <option ng-repeat="category in cmp.categories" ng-value="category">{{category}}</option>
    </select>
    </div>
    <div><strong>Rating: </strong>
      <rating max-rating="5" rating="cmp.recipe.rating"></rating>
    </div>
    <div>
      <strong>Ingredients:</strong>
      <ul>
        <li ng-repeat="ingredient in cmp.recipe.ingredientNames">
          <input type="button" value="Remove this ingredient" ng-click="cmp.removeIngredient(ingredient)"/>
          <input type="text" ng-model="cmp.recipe.ingredients[ingredient]" ng-if="cmp.recipe.isIngredientAmountEditable($index)"/>
          {{ingredient}}
        </li>
      </ul>
      <ul>
        <li>
          <input type="button" value="Add new ingredient" ng-click="cmp.addIngredient()"/>
          <input type="text" ng-model="cmp.anotherIngredientAmount"/>
          <input type="text" ng-model="cmp.anotherIngredientName"/>
        </li>
      </ul>
    </div>
    <div>
      <strong>Directions:</strong>
      <textarea cols="100" rows="8" ng-model="cmp.recipe.directions"></textarea>
    </div>
  </div>
  <div ng-if="cmp.recipe == null">
    <p>Sorry, we could not find the details of the recipe you requested.</p>
  </div>
</div>
